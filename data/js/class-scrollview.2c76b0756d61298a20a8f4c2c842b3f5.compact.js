var storage=require("./class-storage");var utils=require("./utils");var scrollview={isScrolling:false,isSwiping:false,isDoubleTapping:false,isTapHolding:false,setup:function(a){$.mobile.scrollview.prototype._handleDragStart=(function(d){var c=$.mobile.scrollview.prototype._handleDragStart;return function b(g){var h=$.inArray($(g.target).closest(".pageWidget").attr("id"),a.linkOrigin);if(h==-1){h=$.inArray($(g.target).closest(".pageWidget").data("lockto"),a.linkOrigin)}var f=h>-1&&a.triggerType[h];if(f&&(f=="taphold"||f=="doubletap"||f.substr(0,5)=="swipe")){return true}c.apply(this,arguments)}}());$.mobile.scrollview.prototype._handleDragMove=(function(d){var c=$.mobile.scrollview.prototype._handleDragMove;return function b(f){scrollview.isScrolling=true;c.apply(this,arguments)}}());$.mobile.scrollview.prototype._handleDragStop=(function(c){var b=$.mobile.scrollview.prototype._handleDragStop;return function d(f){setTimeout(function(){scrollview.isScrolling=false},10);b.apply(this,arguments)}}())},showPage:function(h){var g=$(this);g.find(".ui-content").attr("data-"+$.mobile.ns+"scroll","y");var f=storage.get(g_preview).pageWH;var i,b=$(g).attr("id");if(b=="home"){return}i=[storage.get(b).width,storage.get(b).height];if(f[0]>=i[0]&&f[1]>=i[1]){return}var j=storage.get(g_preview).orientation;var c=storage.get(b).orientation;var d=j==c;var a="xy";if(!d){i=[i[1],i[0]]}if(i[0]==f[0]){a=d?"y":"x"}if(i[1]==f[1]){a=d?"x":"y"}g.find(":jqmData(scroll):not(.ui-scrollview-clip)").each(function(){var m=$(this);var n=m.attr("id");if(m.hasClass("ui-scrolllistview")){m.scrolllistview();return true}var k=m.jqmData("scroll")+"";var k=m.jqmData("scroll")+"";var e=k&&k.search(/^[xy]p$/)!=-1;var l={direction:a||undefined,paging:e||undefined,scrollMethod:m.jqmData("scroll-method")||undefined};m.scrollview(l)});if(!d){f=[f[1],f[0]]}g.css({"min-height":utils.getTrueHeight()+"px"}).children(".ui-content").css({width:f[0]+"px",height:f[1]+"px"})}};module.exports=scrollview;