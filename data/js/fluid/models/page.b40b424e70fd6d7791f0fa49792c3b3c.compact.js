if(!fluid.models){fluid.models={}}(function(){fluid.models.Page=fluid.Model.extend({attrBlackList:["id","box","imgData"],omitedRedrawAttrs:["x","y","imgData"],initialize:function(a,b){this.on("change:x change:y change:width change:height",function(){this.clearBox()},this);this.on("change",function(e,d){var c=this.changedAttributes(),f;c=_.keys(c);f=_.difference(c,this.omitedRedrawAttrs);if(f.length>0){this.clearImgData()}},this);fluid.main.on("resolutionChanged",function(){if(!fluid.main.project.widgets.get(this.get("id"))){return}this.clearBox();this.clearImgData();var c=this.get("widgets");fluid.main.project.widgets.each(function(d){if(c.indexOf(d.get("id"))!==-1){d.clearBox()}})},this)},clearImgData:function(){this.set({imgData:null})},clearBox:function(){this.set({box:null},{silent:true})},getBox:function(){var a=this.get("box");if(a){return a}else{a=[this.get("x"),this.get("y"),this.get("width"),this.get("height")];this.set({box:a},{silent:true});return a}}});fluid.Pages=fluid.Collection.extend({model:fluid.models.Page,initialize:function(b,a){this.projectModel=a.projectModel}})})();